<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GMAT Focus Edition Exam Simulation</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    .score-number {
      font-size: 2.5rem;
      font-weight: bold;
    }
    .question-container {
      min-height: 250px;
      margin-bottom: 20px;
    }
    .option-label {
      cursor: pointer;
    }
    .review-card {
      margin-bottom: 1rem;
    }
    .section-container {
      display: none;
    }
    .active-section {
      display: block;
    }
  </style>
</head>
<body class="d-flex flex-column min-vh-100">
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="#">GMAT Exam Simulator</a>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="container my-5">
    <!-- Overview Section -->
    <section id="overview" class="mb-5">
      <h1 class="mb-4">Exam Overview</h1>
      <p>
        This simulation tests your skills across the GMAT Focus Edition sections: Quantitative Reasoning, Verbal Reasoning, and Data Insights.
      </p>
    </section>

    <!-- Start Exam Section -->
    <section id="startSection" class="mb-5">
      <h2 class="mb-4">Ready to Start Your Exam?</h2>
      <button id="startExamBtn" class="btn btn-success">Start Exam</button>
    </section>

    <!-- Timer and End Session Section -->
    <div id="timerSection" class="d-flex justify-content-between align-items-center mb-3" style="display:none;">
      <div id="timerDisplay" class="fw-bold">Time Remaining: 45:00</div>
      <button id="endSessionBtn" class="btn btn-danger btn-sm">End Session Early</button>
    </div>

    <!-- SECTION: Quantitative Reasoning -->
    <section id="section-quant" class="section-container">
      <h2 class="mb-3">Section: Quantitative Reasoning</h2>
      <div id="progress-quant" class="text-end mb-2"></div>
      <div id="questionContainer-quant" class="question-container"></div>
      <div class="d-flex justify-content-between">
        <button id="prev-quant" class="btn btn-secondary" disabled>Previous</button>
        <button id="next-quant" class="btn btn-primary">Next</button>
      </div>
    </section>

    <!-- SECTION: Verbal Reasoning -->
    <section id="section-verbal" class="section-container">
      <h2 class="mb-3">Section: Verbal Reasoning</h2>
      <div id="progress-verbal" class="text-end mb-2"></div>
      <div id="questionContainer-verbal" class="question-container"></div>
      <div class="d-flex justify-content-between">
        <button id="prev-verbal" class="btn btn-secondary" disabled>Previous</button>
        <button id="next-verbal" class="btn btn-primary">Next</button>
      </div>
    </section>

    <!-- SECTION: Data Insights -->
    <section id="section-data" class="section-container">
      <h2 class="mb-3">Section: Data Insights</h2>
      <div id="progress-data" class="text-end mb-2"></div>
      <div id="questionContainer-data" class="question-container"></div>
      <div class="d-flex justify-content-between">
        <button id="prev-data" class="btn btn-secondary" disabled>Previous</button>
        <button id="next-data" class="btn btn-primary">Next</button>
      </div>
    </section>

    <!-- Results Section -->
    <section id="resultsSection" class="mb-5" style="display:none;">
      <h2 class="mb-4">Exam Results</h2>
      <div class="table-responsive">
        <table class="table table-bordered text-center">
          <thead class="table-light">
            <tr>
              <th>Total Correct Answers</th>
              <th>Total Wrong Answers</th>
              <th>Total Score</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td id="correctCount" class="score-number"></td>
              <td id="wrongCount" class="score-number"></td>
              <td id="totalScore" class="score-number"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-light py-4 mt-auto">
    <div class="container text-center">
      <span class="text-muted">&copy; 2025 GMAT Exam Simulator</span>
    </div>
  </footer>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    /***************
     * QUESTIONS DATA
     ***************/
    const quantQuestions = [
      { question: "If 2x + 3 = 15, what is x?", options: ["4", "5", "6", "7"], correct: 1 },
      { question: "A train travels 90 km/h. How far will it travel in 1.5 hours?", options: ["135 km", "140 km", "120 km", "125 km"], correct: 0 },
      /* Add remaining 19 Quant questions */
    ];

    const verbalQuestions = [
      { question: "Which of the following best describes the author's argument?", options: ["Innovation is risky.", "Innovation is critical.", "Innovation is easy.", "Innovation has no impact."], correct: 1 },
      { question: "What is the primary challenge of renewable energy mentioned?", options: ["High cost", "Low demand", "Lack of technology", "High investment"], correct: 3 },
      /* Add remaining 21 Verbal questions */
    ];

    const dataQuestions = [
      { question: "Which month saw the highest revenue growth?", options: ["January", "March", "June", "April"], correct: 1 },
      { question: "What is the average revenue across products?", options: ["$12,000", "$15,000", "$10,000", "$13,000"], correct: 0 },
      /* Add remaining 18 Data questions */
    ];

    /***************
     * STATE VARIABLES
     ***************/
    let currentQuant = 0, currentVerbal = 0, currentData = 0;
    const quantAnswers = Array(quantQuestions.length).fill(null);
    const verbalAnswers = Array(verbalQuestions.length).fill(null);
    const dataAnswers = Array(dataQuestions.length).fill(null);

    /***************
     * TIMER AND NAVIGATION
     ***************/
    document.getElementById("startExamBtn").addEventListener("click", () => {
      document.getElementById("startSection").style.display = "none";
      document.getElementById("timerSection").style.display = "flex";
      document.getElementById("section-quant").style.display = "block";
      startSectionTimer();
      renderQuestion('quant', currentQuant);
    });

    function startSectionTimer() {
      let timeRemaining = 2700;
      document.getElementById("timerDisplay").textContent = `Time Remaining: ${formatTime(timeRemaining)}`;
      const interval = setInterval(() => {
        timeRemaining--;
        document.getElementById("timerDisplay").textContent = `Time Remaining: ${formatTime(timeRemaining)}`;
        if (timeRemaining <= 0) {
          clearInterval(interval);
          moveToNextSection();
        }
      }, 1000);
    }

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }

    function renderQuestion(section, index) {
      let qData, container;
      if (section === 'quant') {
        qData = quantQuestions[index];
        container = document.getElementById("questionContainer-quant");
      } else if (section === 'verbal') {
        qData = verbalQuestions[index];
        container = document.getElementById("questionContainer-verbal");
      } else {
        qData = dataQuestions[index];
        container = document.getElementById("questionContainer-data");
      }

      container.innerHTML = `
        <h5>${qData.question}</h5>
        <form id="${section}-form">
          ${qData.options.map((opt, i) => `
            <div class="form-check">
              <input class="form-check-input" type="radio" name="${section}-question" id="${section}-q${index}-opt${i}" value="${i}">
              <label class="form-check-label option-label" for="${section}-q${index}-opt${i}">${opt}</label>
            </div>
          `).join('')}
        </form>
      `;
    }

    function moveToNextSection() {
      if (currentQuant < quantQuestions.length - 1) {
        currentQuant++;
        renderQuestion('quant', currentQuant);
      } else if (currentVerbal < verbalQuestions.length - 1) {
        currentVerbal++;
        renderQuestion('verbal', currentVerbal);
      } else if (currentData < dataQuestions.length - 1) {
        currentData++;
        renderQuestion('data', currentData);
      } else {
        submitExam();
      }
    }

    function submitExam() {
      // Calculate scores and display results
      const correctQuant = quantAnswers.filter((ans, i) => ans === quantQuestions[i].correct).length;
      const correctVerbal = verbalAnswers.filter((ans, i) => ans === verbalQuestions[i].correct).length;
      const correctData = dataAnswers.filter((ans, i) => ans === dataQuestions[i].correct).length;
      document.getElementById("correctCount").textContent = correctQuant + correctVerbal + correctData;
      document.getElementById("wrongCount").textContent = 64 - (correctQuant + correctVerbal + correctData);
      document.getElementById("totalScore").textContent = calculateTotalScore(correctQuant, correctVerbal, correctData);
      document.getElementById("resultsSection").style.display = "block";
      document.getElementById("timerSection").style.display = "none";
    }

    function calculateTotalScore(quant, verbal, data) {
      const quantScore = 60 + (30 * (quant / quantQuestions.length));
      const verbalScore = 60 + (30 * (verbal / verbalQuestions.length));
      const dataScore = 60 + (30 * (data / dataQuestions.length));
      const avgScore = (quantScore + verbalScore + dataScore) / 3;
      return 205 + ((avgScore - 60) / 30) * 600;
    }
  </script>
</body>
</html>
